jQuery(document).ready(function(e){class t{constructor(i){if(t.activeToggleClass="is-active",t.openContainerClass="rmp-menu-open",t.activeSubMenuArrowClass="rmp-menu-subarrow-active",t.subMenuClass=".rmp-submenu",t.activeTopMenuClass="rmp-topmenu-active",this.options=i,this.menuId=this.options.menu_id,this.trigger="#rmp_menu_trigger-"+this.menuId,this.isOpen=!1,this.container="#rmp-container-"+this.menuId,this.headerBar="#rmp-header-bar-"+this.menuId,this.menuWrap="ul#rmp-menu-"+this.menuId,this.subMenuArrow=".rmp-menu-subarrow",this.wrapper=".rmp-container",this.linkElement=".rmp-menu-item-link",this.pageWrapper=this.options.page_wrapper,this.use_desktop_menu=this.options.use_desktop_menu,this.originalHeight="",this.animationSpeed=1e3*this.options.animation_speed,this.hamburgerBreakpoint=this.options.tablet_breakpoint,this.subMenuTransitionTime=1e3*this.options.sub_menu_speed,this.options.button_click_trigger.length>0&&(this.trigger=this.trigger+" , "+this.options.button_click_trigger),"inside-element"==this.options.button_position_type){var n=e(this.trigger).attr("data-destination");e(this.trigger).appendTo(e(n).parent())}this.init()}init(){let t=this;e(this.trigger).on("click",function(e){e.stopPropagation(),t.triggerMenu()}),e(t.menuWrap).find(t.subMenuArrow).on("click",function(e){e.preventDefault(),e.stopPropagation(),t.triggerSubArrow(this)}),"on"==t.options.menu_close_on_body_click&&e(document).on("click","body",function(i){e(window).width()<t.hamburgerBreakpoint&&(!t.isOpen||!e(i.target).closest(t.container).length&&!e(i.target).closest(t.target).length)&&t.closeMenu()}),"on"==t.options.menu_close_on_link_click&&e(this.menuWrap+" "+t.linkElement).on("click",function(i){if(e(window).width()<t.hamburgerBreakpoint){if(i.preventDefault(),"on"==t.options.menu_item_click_to_trigger_submenu&&e(this).is(".rmp-menu-item-has-children > "+t.linkElement))return;let n=e(this).attr("href"),s=void 0===e(this).attr("target")?"_self":e(this).attr("target");if(t.isOpen){if(e(i.target).closest(this.subMenuArrow).length)return;void 0!==n&&(t.closeMenu(),setTimeout(function(){window.open(n,s)},t.animationSpeed))}}}),"on"==t.options.menu_item_click_to_trigger_submenu&&e(this.menuWrap+" .rmp-menu-item-has-children > "+t.linkElement).on("click",function(i){e(window).width()<t.hamburgerBreakpoint&&(i.preventDefault(),t.triggerSubArrow(e(this).children(".rmp-menu-subarrow").first()))}),e(document).on("keydown",function(t){let i=e(".rmp-container.rmp-menu-open");if(i.length){let n=i.find(".rmp-selected-menu-item").length?i.find(".rmp-selected-menu-item"):i.find(".rmp-menu-current-item"),s=e(".rmp-container.rmp-menu-open"),r=i.find(".rmp-menu-item");if(9===t.keyCode){if(r.removeClass("rmp-selected-menu-item"),n.length){if(n.hasClass("rmp-menu-item-has-children")){n.children(".rmp-menu-item-link").first().find(".rmp-menu-subarrow").click();n.find(".rmp-submenu").children(".rmp-menu-item").first().addClass("rmp-selected-menu-item").children(".rmp-menu-item-link").first().focus()}else{let a=n.next(".rmp-menu-item");if(a.length)a.addClass("rmp-selected-menu-item").children(".rmp-menu-item-link").first().focus();else{let m=n.closest(".rmp-submenu");if(m.length){let o=m.closest(".rmp-menu-item"),u=o.next(".rmp-menu-item");if(o.children(".rmp-menu-item-link").first().find(".rmp-menu-subarrow").click(),u.length)u.addClass("rmp-selected-menu-item").children(".rmp-menu-item-link").first().focus();else{let p=o.closest(".rmp-submenu").closest(".rmp-menu-item").next(".rmp-menu-item");p.length?p.find(".rmp-menu-item-link").addClass("rmp-selected-menu-item").children(".rmp-menu-item-link").first().focus():s.find(".rmp-menu-item").first().addClass("rmp-selected-menu-item").children(".rmp-menu-item-link").first().focus()}}else s.find(".rmp-menu-item").first().addClass("rmp-selected-menu-item").children(".rmp-menu-item-link").first().focus()}}}else r.first().addClass("rmp-selected-menu-item").children(".rmp-menu-item-link").first().focus();t.preventDefault()}13===t.keyCode&&n.length&&n.click()}}),this.setActiveMenuItemOnLoad()}setActiveMenuItemOnLoad(){let i=window.location.href,n=e(this.menuWrap).find("a");n.each(function(){if(this.href===i)return e(this).closest(".rmp-menu-item-has-children").addClass(t.activeTopMenuClass),!1})}setWrapperTranslate(){let t,i;switch(this.options.menu_appear_from){case"left":t="translateX("+this.menuWidth()+"px)",i="translateX(-"+this.menuWidth()+"px)";break;case"right":t="translateX(-"+this.menuWidth()+"px)",i="translateX("+this.menuWidth()+"px)";break;case"top":t="translateY("+this.wrapperHeight()+"px)",i="translateY(-"+this.menuHeight()+"px)";break;case"bottom":t="translateY(-"+this.menuHeight()+"px)",i="translateY("+this.menuHeight()+"px)"}"push"==this.options.animation_type&&(e(this.pageWrapper).css({transform:t}),"body"==this.pageWrapper&&e(this.container).css({transform:i})),"on"==this.options.button_push_with_animation&&e(this.trigger).css({transform:t})}clearWrapperTranslate(){"push"==this.options.animation_type&&e(this.pageWrapper).css({transform:""}),"on"==this.options.button_push_with_animation&&e(this.trigger).css({transform:""})}fadeMenuIn(){e(this.container).fadeIn(this.animationSpeed)}fadeMenuOut(){e(this.container).fadeOut(this.animationSpeed,function(){e(this).css("display","")})}openMenu(){e(this.trigger).addClass(t.activeToggleClass),e(this.container).addClass(t.openContainerClass),"fade"==this.options.animation_type?this.fadeMenuIn():this.setWrapperTranslate(),this.isOpen=!0}closeMenu(){e(this.trigger).removeClass(t.activeToggleClass),e(this.container).removeClass(t.openContainerClass),"fade"==this.options.animation_type?this.fadeMenuOut():this.clearWrapperTranslate(),this.isOpen=!1}triggerMenu(){this.isOpen?this.closeMenu():this.openMenu()}triggerSubArrow(i){var n=this,s=e(i).parent().siblings(t.subMenuClass);if("on"==n.options.accordion_animation){var r=s.parents(".rmp-menu-item-has-children").last().siblings(".rmp-menu-item-has-children"),a=s.parents(".rmp-menu-item-has-children").first().siblings(".rmp-menu-item-has-children");r.children(".rmp-submenu").slideUp(n.subMenuTransitionTime,"linear").removeClass("rmp-submenu-open"),r.each(function(){e(this).find(n.subMenuArrow).first().html(n.options.inactive_toggle_contents),e(this).find(n.subMenuArrow).first().removeClass(t.activeSubMenuArrowClass)}),a.children(".rmp-submenu").slideUp(n.subMenuTransitionTime,"linear").removeClass("rmp-submenu-open"),a.each(function(){e(this).find(n.subMenuArrow).first().html(n.options.inactive_toggle_contents),e(this).find(n.subMenuArrow).first().removeClass(t.activeSubMenuArrowClass)})}s.hasClass("rmp-submenu-open")?(s.slideUp(n.subMenuTransitionTime,"linear",function(){e(this).css("display","")}).removeClass("rmp-submenu-open"),e(i).html(n.options.inactive_toggle_contents),e(i).removeClass(t.activeSubMenuArrowClass)):(s.slideDown(n.subMenuTransitionTime,"linear").addClass("rmp-submenu-open"),e(i).html(n.options.active_toggle_contents),e(i).addClass(t.activeSubMenuArrowClass))}pushMenuTrigger(t){"on"==this.options.button_push_with_animation&&e(this.trigger).css({transform:this.menuWidth()})}menuHeight(){return e(this.container).height()}menuWidth(){return e(this.container).width()}wrapperHeight(){return e(this.wrapper).height()}backUpSlide(t){let i=parseInt(e(this.menuWrap)[0].style.transform.replace(/^\D+/g,""))-100;e(this.menuWrap).css({transform:"translateX(-"+i+"%)"});let n=e(t).parent("ul").parent("li").parent(".rmp-submenu").height();n?e(this.menuWrap+this.menuId).css({height:n+"px"}):e(this.menuWrap).css({height:this.originalHeight})}}for(let i=0;i<rmp_menu.menu.length;i++)new t(rmp_menu.menu[i])});