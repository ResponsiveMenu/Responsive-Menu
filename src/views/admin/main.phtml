<?php

use ResponsiveMenu\Formatters\Tabs as Tabs;
use ResponsiveMenu\Formatters\Text as Text;
// This is horrible!
include dirname(dirname(dirname(__FILE__))) . '/config/admin_ordering.php';

$tabs = new ResponsiveMenu\ViewModels\Components\Admin\Tabs($order_mapping);
$boxes = new ResponsiveMenu\ViewModels\Components\Admin\Boxes($order_mapping, $l['options']);

?>
<div class="wrap">
  <div id="poststuff">
      <div id="postbox-container" class="postbox-container">
        <?php if(isset($l['flash']['success'])): ?>
          <div class="updated notice notice-success is-dismissible" id="message">
            <p><?php _e($l['flash']['success'], 'responsive-menu'); ?></p>
            <button class="notice-dismiss" type="button">
              <span class="screen-reader-text">
              <?php _e('Dismiss this notice', 'responsive-menu') ?>.
              </span>
            </button>
          </div> <!-- updated -->
        <?php endif; ?>
      <?php if(isset($l['flash']['errors'])): ?>
        <div class="notice notice-error is-dismissible" id="message">
          <ul>
                    <?php foreach($l['flash']['errors'] as $error): ?>
                      <li><?php _e($error, 'responsive-menu'); ?></li>
                    <?php endforeach; ?>
                    </ul>
          <button class="notice-dismiss" type="button">
            <span class="screen-reader-text">
            <?php _e('Dismiss this notice', 'responsive-menu') ?>.
            </span>
          </button>
        </div>
      <?php endif; ?>

      <div class="tabs_container">
        <?php echo $tabs->render(); ?>
      </div>

      <div id="all_options_container">
        <div class="meta-box-sortables ui-sortable" id="normal-sortables">
        	<form action="" method="post" enctype="multipart/form-data">
            <input type="submit" class="button submit" name="responsive_menu_submit" value="Update Options" style="display: none;" />
            <div id="options_list_container">
              <?php echo $boxes->render(); ?>
            </div>
        		<input type="submit" class="button submit" name="responsive_menu_submit" value="<?php _e('Update Options', 'responsive-menu') ?>" />
        		<input type="submit" class="button submit" name="responsive_menu_reset" value="<?php _e('Reset Options', 'responsive-menu') ?>" />
        	</form>
        </div> <!-- #normal-sortables -->
      </div><!--#all_options_container
   --><div id="banner_area">
        Banner area
        <ul>
          <li>FontIcon Support</li>
          <li>Opacity colour option</li>
          <li>15+ button animations</li>
          <li>Desktop & Responsive menu configuration</li>
          <li>Header Bar</li>
        </ul>
        Buy now for only $14.99
      </div> <!-- #banner_area -->
    </div> <!-- #postbox-container -->
  </div> <!-- #poststuff -->
</div> <!-- #wrap -->
