{"version":3,"file":"view.js","mappings":";;;;;AAAAA,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;EACnD,MAAMC,YAAY,GAAGF,QAAQ,CAACG,gBAAgB,CAAC,yBAAyB,CAAC;EAEzE,MAAMC,kBAAkB,GAAGA,CAACC,OAAO,EAAEC,iBAAiB,KAAK;IAC1D,MAAMC,oBAAoB,GAAIC,KAAK,IAAK;MACvC,MAAMC,iBAAiB,GAAGH,iBAAiB,CAACI,QAAQ,CAACF,KAAK,CAACG,MAAM,CAAC;MAClE,MAAMC,gBAAgB,GAAGP,OAAO,CAACK,QAAQ,CAACF,KAAK,CAACG,MAAM,CAAC;MAEvD,IAAI,CAACF,iBAAiB,IAAI,CAACG,gBAAgB,EAAE;QAC5CN,iBAAiB,CAACO,SAAS,CAACC,MAAM,CAAC,kBAAkB,CAAC;QACtDT,OAAO,CAACQ,SAAS,CAACC,MAAM,CAAC,kBAAkB,CAAC;QAC5Cd,QAAQ,CAACe,mBAAmB,CAAC,OAAO,EAAER,oBAAoB,CAAC;MAC5D;IACD,CAAC;IAEDP,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAEM,oBAAoB,CAAC;EACzD,CAAC;EAEDL,YAAY,CAACc,OAAO,CAAEX,OAAO,IAAK;IACjCA,OAAO,CAACJ,gBAAgB,CAAC,OAAO,EAAGO,KAAK,IAAK;MAC5CA,KAAK,CAACS,eAAe,CAAC,CAAC;MACvBZ,OAAO,CAACQ,SAAS,CAACK,MAAM,CAAC,kBAAkB,CAAC;MAC5C,MAAMC,mBAAmB,GAAGd,OAAO,CAACe,YAAY,CAAC,eAAe,CAAC;MAEjE,IAAID,mBAAmB,EAAE;QACxB,MAAMb,iBAAiB,GAAGN,QAAQ,CAACqB,cAAc,CAACF,mBAAmB,CAAC;QAEtE,IAAIb,iBAAiB,EAAE;UACtBA,iBAAiB,CAACO,SAAS,CAACK,MAAM,CAAC,kBAAkB,CAAC;UAEtD,IAAIb,OAAO,CAACe,YAAY,CAAC,sBAAsB,CAAC,KAAK,MAAM,EAAE;YAC5D,MAAME,SAAS,GAAGhB,iBAAiB,CAACH,gBAAgB,CAAC,+BAA+B,CAAC;YACrFmB,SAAS,CAACN,OAAO,CAAEO,QAAQ,IAAK;cAC/BA,QAAQ,CAACtB,gBAAgB,CAAC,OAAO,EAAE,MAAM;gBACxCK,iBAAiB,CAACO,SAAS,CAACC,MAAM,CAAC,kBAAkB,CAAC;gBACtDT,OAAO,CAACQ,SAAS,CAACC,MAAM,CAAC,kBAAkB,CAAC;cAC7C,CAAC,CAAC;YACH,CAAC,CAAC;UACH;UAEA,IAAIT,OAAO,CAACe,YAAY,CAAC,qBAAqB,CAAC,KAAK,MAAM,EAAE;YAC3D,MAAMI,YAAY,GAAGA,CAAA,KAAM;cAC1BlB,iBAAiB,CAACO,SAAS,CAACC,MAAM,CAAC,kBAAkB,CAAC;cACtDT,OAAO,CAACQ,SAAS,CAACC,MAAM,CAAC,kBAAkB,CAAC;cAC5CW,MAAM,CAACV,mBAAmB,CAAC,QAAQ,EAAES,YAAY,CAAC;YACnD,CAAC;YACDC,MAAM,CAACxB,gBAAgB,CAAC,QAAQ,EAAEuB,YAAY,CAAC;UAChD;UAEA,IAAInB,OAAO,CAACe,YAAY,CAAC,sBAAsB,CAAC,KAAK,MAAM,EAAE;YAC5DhB,kBAAkB,CAACC,OAAO,EAAEC,iBAAiB,CAAC;UAC/C;QACD;MACD;IACD,CAAC,CAAC;EACH,CAAC,CAAC;EAEF,SAASoB,sBAAsBA,CAACC,OAAO,EAAEC,KAAK,EAAE;IAC/C,IACCD,OAAO,CAACd,SAAS,CAACH,QAAQ,CAAC,wCAAwC,CAAC,IACpEiB,OAAO,CAACd,SAAS,CAACH,QAAQ,CAAC,6BAA6B,CAAC,EACxD;MACD,MAAMmB,kBAAkB,GAAGC,KAAK,CAACC,IAAI,CAACJ,OAAO,CAACd,SAAS,CAAC,CAACmB,IAAI,CAAEC,GAAG,IACjEA,GAAG,CAACC,UAAU,CAAC,0BAA0B,CAC1C,CAAC;MAED,IAAI,CAACL,kBAAkB,EAAE;QACxBF,OAAO,CAACd,SAAS,CAACsB,GAAG,CAAC,2BAA2BP,KAAK,EAAE,CAAC;MAC1D;MAEAA,KAAK,EAAE;MACP,MAAMQ,aAAa,GAAGT,OAAO,CAACxB,gBAAgB,CAC7C,qEACD,CAAC;MACDiC,aAAa,CAACpB,OAAO,CAAEqB,KAAK,IAAKX,sBAAsB,CAACW,KAAK,EAAET,KAAK,CAAC,CAAC;IACvE;EACD;EAEA,MAAMU,gBAAgB,GAAGtC,QAAQ,CAACG,gBAAgB,CACjD,8FACD,CAAC;EACDmC,gBAAgB,CAACtB,OAAO,CAAEW,OAAO,IAAKD,sBAAsB,CAACC,OAAO,EAAE,CAAC,CAAC,CAAC;EAEzE,MAAMY,cAAc,GAAGvC,QAAQ,CAACG,gBAAgB,CAAC,uDAAuD,CAAC;EACzGoC,cAAc,CAACvB,OAAO,CAAEwB,MAAM,IAAK;IAClC,MAAMC,UAAU,GAAGD,MAAM,CAACE,OAAO,CAAC,0BAA0B,CAAC;IAC7D,MAAMC,aAAa,GAAGH,MAAM,CAACE,OAAO,CAAC,sBAAsB,CAAC;IAC5D,IAAIE,WAAW,GAAGH,UAAU,CAACrB,YAAY,CAAC,mBAAmB,CAAC;IAC9D,IAAIyB,iBAAiB,GAAGJ,UAAU,CAACrB,YAAY,CAAC,0BAA0B,CAAC;IAC3E,MAAM0B,eAAe,GAAGL,UAAU,CAACrB,YAAY,CAAC,wBAAwB,CAAC;IAEzE,IAAI0B,eAAe,KAAK,MAAM,EAAE;MAC/BF,WAAW,GAAGD,aAAa,CAACI,aAAa,CACxC,8DACD,CAAC,CAACC,SAAS;MACXH,iBAAiB,GAAGF,aAAa,CAACI,aAAa,CAC9C,4DACD,CAAC,CAACC,SAAS;IACZ,CAAC,MAAM,IAAIF,eAAe,KAAK,OAAO,IAAIF,WAAW,EAAE;MACtDA,WAAW,GAAG,aAAaA,WAAW,IAAI;MAC1CC,iBAAiB,GAAG,aAAaA,iBAAiB,IAAI;IACvD;IAEA,MAAMI,QAAQ,GAAGjD,QAAQ,CAACkD,aAAa,CAAC,KAAK,CAAC;IAC9CD,QAAQ,CAACE,SAAS,GAAG,yBAAyB;IAC9CF,QAAQ,CAACD,SAAS,GAAGJ,WAAW;IAEhC,MAAMQ,SAAS,GAAGZ,MAAM,CAACO,aAAa,CAAC,YAAY,CAAC;IACpD,IAAIK,SAAS,EAAE;MACdA,SAAS,CAACC,qBAAqB,CAAC,UAAU,EAAEJ,QAAQ,CAAC;MAErDA,QAAQ,CAAChD,gBAAgB,CAAC,OAAO,EAAE,MAAM;QACxCuC,MAAM,CAAC3B,SAAS,CAACK,MAAM,CAAC,0BAA0B,CAAC;QACnD,IAAIsB,MAAM,CAAC3B,SAAS,CAACH,QAAQ,CAAC,0BAA0B,CAAC,EAAE;UAC1DuC,QAAQ,CAACD,SAAS,GAAGH,iBAAiB;UACtC,IAAIJ,UAAU,CAACrB,YAAY,CAAC,yBAAyB,CAAC,KAAK,MAAM,EAAE;YAClE,MAAMkC,WAAW,GAAGd,MAAM,CAACrC,gBAAgB,CAAC,oEAAoE,CAAC;YACjH,IAAImD,WAAW,EAAE;cAChBA,WAAW,CAACtC,OAAO,CAAEuC,OAAO,IAAK;gBAChCA,OAAO,CAACC,KAAK,CAAC,CAAC;cAChB,CAAC,CAAC;YACH;UACD;UACA,IAAIf,UAAU,CAACrB,YAAY,CAAC,oBAAoB,CAAC,KAAK,MAAM,EAAE;YAC7D,MAAMqC,gBAAgB,GAAGhB,UAAU,CAACtC,gBAAgB,CAAC,kGAAkG,CAAC;YACxJ,IAAI8C,QAAQ,CAACP,OAAO,CAAC,yCAAyC,CAAC,KAAK,IAAI,EAAE;cACzE;YACD;YACAe,gBAAgB,CAACzC,OAAO,CAAEuC,OAAO,IAAK;cACrC,IAAIA,OAAO,KAAKN,QAAQ,EAAG;gBAC1BM,OAAO,CAACC,KAAK,CAAC,CAAC;cAChB;YACD,CAAC,CAAC;UACH;QACD,CAAC,MAAM;UACNP,QAAQ,CAACD,SAAS,GAAGJ,WAAW;QACjC;MACD,CAAC,CAAC;IACH;EACD,CAAC,CAAC;EAEF,MAAMtB,SAAS,GAAGtB,QAAQ,CAACG,gBAAgB,CAAC,0BAA0B,CAAC;EAEvEmB,SAAS,CAACN,OAAO,CAAE0C,IAAI,IAAK;IAC3B,IAAIA,IAAI,CAACtC,YAAY,CAAC,kBAAkB,CAAC,KAAK,MAAM,EAAE;MACrD,MAAMkC,WAAW,GAAGI,IAAI,CAACvD,gBAAgB,CAAC,8DAA8D,CAAC;MACzGmD,WAAW,CAACtC,OAAO,CAAEuC,OAAO,IAAK;QAChCA,OAAO,CAACC,KAAK,CAAC,CAAC;MAChB,CAAC,CAAC;IACH;IAEA,IAAIE,IAAI,CAACtC,YAAY,CAAC,0BAA0B,CAAC,KAAK,MAAM,EAAE;MAC7D,MAAMuC,WAAW,GAAGD,IAAI,CAACX,aAAa,CAAC,uDAAuD,CAAC;MAC/F,IAAIY,WAAW,EAAE;QAChBA,WAAW,CAACH,KAAK,CAAC,CAAC;MACpB;IACD;EACD,CAAC,CAAC;AACH,CAAC,CAAC,C","sources":["webpack://rmp-block/./src/view.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\tconst menuTriggers = document.querySelectorAll('.rmp-block-menu-trigger');\n\n\tconst handleClickOutside = (trigger, controlledElement) => {\n\t\tconst clickOutsideListener = (event) => {\n\t\t\tconst isClickInsideMenu = controlledElement.contains(event.target);\n\t\t\tconst isClickOnTrigger = trigger.contains(event.target);\n\n\t\t\tif (!isClickInsideMenu && !isClickOnTrigger) {\n\t\t\t\tcontrolledElement.classList.remove('rmp-block-active');\n\t\t\t\ttrigger.classList.remove('rmp-block-active');\n\t\t\t\tdocument.removeEventListener('click', clickOutsideListener);\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener('click', clickOutsideListener);\n\t};\n\n\tmenuTriggers.forEach((trigger) => {\n\t\ttrigger.addEventListener('click', (event) => {\n\t\t\tevent.stopPropagation();\n\t\t\ttrigger.classList.toggle('rmp-block-active');\n\t\t\tconst controlledElementId = trigger.getAttribute('aria-controls');\n\n\t\t\tif (controlledElementId) {\n\t\t\t\tconst controlledElement = document.getElementById(controlledElementId);\n\n\t\t\t\tif (controlledElement) {\n\t\t\t\t\tcontrolledElement.classList.toggle('rmp-block-active');\n\n\t\t\t\t\tif (trigger.getAttribute('data-hide-link-click') === 'true') {\n\t\t\t\t\t\tconst menuItems = controlledElement.querySelectorAll('.wp-block-navigation-item > a');\n\t\t\t\t\t\tmenuItems.forEach((menuItem) => {\n\t\t\t\t\t\t\tmenuItem.addEventListener('click', () => {\n\t\t\t\t\t\t\t\tcontrolledElement.classList.remove('rmp-block-active');\n\t\t\t\t\t\t\t\ttrigger.classList.remove('rmp-block-active');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (trigger.getAttribute('data-hide-on-scroll') === 'true') {\n\t\t\t\t\t\tconst handleScroll = () => {\n\t\t\t\t\t\t\tcontrolledElement.classList.remove('rmp-block-active');\n\t\t\t\t\t\t\ttrigger.classList.remove('rmp-block-active');\n\t\t\t\t\t\t\twindow.removeEventListener('scroll', handleScroll);\n\t\t\t\t\t\t};\n\t\t\t\t\t\twindow.addEventListener('scroll', handleScroll);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (trigger.getAttribute('data-hide-page-click') === 'true') {\n\t\t\t\t\t\thandleClickOutside(trigger, controlledElement);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\tfunction addSubmenuLevelClasses(element, level) {\n\t\tif (\n\t\t\telement.classList.contains('wp-block-navigation__submenu-container') &&\n\t\t\telement.classList.contains('wp-block-navigation-submenu')\n\t\t) {\n\t\t\tconst existingLevelClass = Array.from(element.classList).find((cls) =>\n\t\t\t\tcls.startsWith('rmp-block-submenu-level-')\n\t\t\t);\n\n\t\t\tif (!existingLevelClass) {\n\t\t\t\telement.classList.add(`rmp-block-submenu-level-${level}`);\n\t\t\t}\n\n\t\t\tlevel++;\n\t\t\tconst childSubmenus = element.querySelectorAll(\n\t\t\t\t'.wp-block-navigation__submenu-container.wp-block-navigation-submenu'\n\t\t\t);\n\t\t\tchildSubmenus.forEach((child) => addSubmenuLevelClasses(child, level));\n\t\t}\n\t}\n\n\tconst topLevelElements = document.querySelectorAll(\n\t\t'.wp-block-rmp-menu-items .wp-block-navigation__submenu-container.wp-block-navigation-submenu'\n\t);\n\ttopLevelElements.forEach((element) => addSubmenuLevelClasses(element, 1));\n\n\tconst parentElements = document.querySelectorAll('.wp-block-rmp-menu-items .wp-block-navigation-submenu');\n\tparentElements.forEach((parent) => {\n\t\tconst menuParent = parent.closest('.wp-block-rmp-menu-items');\n\t\tconst menuContainer = parent.closest('.rmp-block-container');\n\t\tlet submenuIcon = menuParent.getAttribute('data-submenu-icon');\n\t\tlet submenuActiveIcon = menuParent.getAttribute('data-submenu-active-icon');\n\t\tconst submenuIconType = menuParent.getAttribute('data-submenu-icon-type');\n\n\t\tif (submenuIconType === 'icon') {\n\t\t\tsubmenuIcon = menuContainer.querySelector(\n\t\t\t\t'.rmp-submenu-trigger-icon .rmp-inactive-submenu-trigger-icon'\n\t\t\t).innerHTML;\n\t\t\tsubmenuActiveIcon = menuContainer.querySelector(\n\t\t\t\t'.rmp-submenu-trigger-icon .rmp-active-submenu-trigger-icon'\n\t\t\t).innerHTML;\n\t\t} else if (submenuIconType === 'image' && submenuIcon) {\n\t\t\tsubmenuIcon = `<img src=\"${submenuIcon}\">`;\n\t\t\tsubmenuActiveIcon = `<img src=\"${submenuActiveIcon}\">`;\n\t\t}\n\n\t\tconst subArrow = document.createElement('div');\n\t\tsubArrow.className = 'rmp-block-menu-subarrow';\n\t\tsubArrow.innerHTML = submenuIcon;\n\n\t\tconst anchorTag = parent.querySelector(':scope > a');\n\t\tif (anchorTag) {\n\t\t\tanchorTag.insertAdjacentElement('afterend', subArrow);\n\n\t\t\tsubArrow.addEventListener('click', () => {\n\t\t\t\tparent.classList.toggle('rmp-block-active-submenu');\n\t\t\t\tif (parent.classList.contains('rmp-block-active-submenu')) {\n\t\t\t\t\tsubArrow.innerHTML = submenuActiveIcon;\n\t\t\t\t\tif (menuParent.getAttribute('data-auto-expand-parent') === 'true') {\n\t\t\t\t\t\tconst allSubmenus = parent.querySelectorAll('.has-child:not(.rmp-block-active-submenu) .rmp-block-menu-subarrow');\n\t\t\t\t\t\tif (allSubmenus) {\n\t\t\t\t\t\t\tallSubmenus.forEach((submenu) => {\n\t\t\t\t\t\t\t\tsubmenu.click();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (menuParent.getAttribute('data-use-accordion') === 'true') {\n\t\t\t\t\t\tconst topLevelSubmenus = menuParent.querySelectorAll(':scope > .wp-block-navigation-item.has-child.rmp-block-active-submenu > .rmp-block-menu-subarrow');\n\t\t\t\t\t\tif (subArrow.closest('.wp-block-navigation__submenu-container') !== null) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttopLevelSubmenus.forEach((submenu) => {\n\t\t\t\t\t\t\tif (submenu !== subArrow ) {\n\t\t\t\t\t\t\t\tsubmenu.click();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsubArrow.innerHTML = submenuIcon;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tconst menuItems = document.querySelectorAll('.wp-block-rmp-menu-items');\n\n\tmenuItems.forEach((menu) => {\n\t\tif (menu.getAttribute('data-auto-expand') === 'true') {\n\t\t\tconst allSubmenus = menu.querySelectorAll('.wp-block-navigation-item.has-child .rmp-block-menu-subarrow');\n\t\t\tallSubmenus.forEach((submenu) => {\n\t\t\t\tsubmenu.click();\n\t\t\t});\n\t\t}\n\n\t\tif (menu.getAttribute('data-auto-expand-current') === 'true') {\n\t\t\tconst currentMenu = menu.querySelector('.has-child.current-menu-item .rmp-block-menu-subarrow');\n\t\t\tif (currentMenu) {\n\t\t\t\tcurrentMenu.click();\n\t\t\t}\n\t\t}\n\t});\n});\n"],"names":["document","addEventListener","menuTriggers","querySelectorAll","handleClickOutside","trigger","controlledElement","clickOutsideListener","event","isClickInsideMenu","contains","target","isClickOnTrigger","classList","remove","removeEventListener","forEach","stopPropagation","toggle","controlledElementId","getAttribute","getElementById","menuItems","menuItem","handleScroll","window","addSubmenuLevelClasses","element","level","existingLevelClass","Array","from","find","cls","startsWith","add","childSubmenus","child","topLevelElements","parentElements","parent","menuParent","closest","menuContainer","submenuIcon","submenuActiveIcon","submenuIconType","querySelector","innerHTML","subArrow","createElement","className","anchorTag","insertAdjacentElement","allSubmenus","submenu","click","topLevelSubmenus","menu","currentMenu"],"sourceRoot":""}